import Index from './lib/index';
import {state} from './state';

export default class WaveAnimation extends Index {
	componentDidMount(){
		let  didScroll = false;
		window.addEventListener('scroll',(event)=>{
			const scroll_position = window.scrollY + 500;

			if(!didScroll && state.scroll.secondPage < scroll_position){
				didScroll = true;
				document.getElementById('secondPageBackground').innerHTML = this.background();
			}

		})

	}

	render(){
		return '<div id="secondPageBackground"> </div>';
	}
	background(){
		
		return `
			<svg id="projectBackground" class="wavy-image" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
			  <defs>
			    <pattern id="pattern-0" x="0" y="0" width="25" height="25" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">
			      <rect x="0" y="0" width="50" height="100" style="fill: black;"/>
			    </pattern>
			  </defs>
			  <g>
			    <path style="fill: rgb(216, 216, 216);"/>
			    <path style="fill: rgb(216, 216, 216);"/>
			    <path style="fill: rgb(194, 249, 28);" d="M 68.876 460.647 C 79.507 447.682 130.987 432.648 138.889 477.291 C 164.063 576.171 175.321 478.881 190.535 450.353 C 207.814 408.27 226.186 599.926 276.49 453.942 C 296.415 359.18 342.161 450.61 343.201 449.136 C 456.652 573.737 413.543 454.941 460.46 424.224 C 469.543 410.071 468.714 431.073 471.387 430.998 C 472.511 430.19 488.968 463.985 490.622 468.241 C 513.823 492.79 502.362 121.072 499.7 114.296 L 498.121 107.675 L 86.924 110.827 L 0.302 109.771 L 1.564 111.395 C 4.776 87.375 -2.861 495.416 32.656 492.737">
				<animate
					 attributeType="XML" 
					attributeName="d" 
					from="M 57.175 161.934 C 81.433 124.496 101.701 119.902 109.815 162.314 C 133.148 259.603 173.668 170.211 180.052 152.215 C 213.427 106.43 231.111 334.706 278.888 197.477 C 299.342 107.542 339.714 200.881 340.469 196.007 C 374.015 286.018 385.495 168.404 404.836 149.964 C 419.038 136.423 445.412 158.961 446.974 160.288 C 443.969 159.63 462.995 173.01 466.045 177.307 C 480.678 184.643 494.334 115.566 498.358 115.233 L 502.682 109.077 L 83.937 112.066 L -4.274 111.069 L -0.303 111.179 C 14.069 115.775 32.11 166.712 57.598 163.142"
					 to="M 68.876 460.647 C 79.507 447.682 130.987 432.648 138.889 477.291 C 164.063 576.171 175.321 478.881 190.535 450.353 C 207.814 408.27 226.186 599.926 276.49 453.942 C 296.415 359.18 342.161 450.61 343.201 449.136 C 456.652 573.737 413.543 454.941 460.46 424.224 C 469.543 410.071 468.714 431.073 471.387 430.998 C 472.511 430.19 488.968 463.985 490.622 468.241 C 513.823 492.79 502.362 121.072 499.7 114.296 L 498.121 107.675 L 86.924 110.827 L 0.302 109.771 L 1.564 111.395 C 4.776 87.375 -2.861 495.416 32.656 492.737"
					dur="10s"/>
				</path>


			    <path style="fill: rgb(135, 207, 235);" d="M 75.098 434.429 C 99.356 396.991 150.65 413.886 158.764 456.298 C 182.097 553.587 235.379 478.602 241.763 460.606 C 275.138 414.821 304.328 595.005 352.105 457.776 C 372.559 367.841 409.846 508.718 410.601 503.844 C 444.147 593.855 419.956 406.739 439.297 388.299 C 453.499 374.758 462.091 372.946 463.653 374.273 C 460.648 373.615 480.886 414.955 483.936 419.252 C 498.569 426.588 501.142 114.241 498.358 115.233 L 502.682 109.077 L 83.937 112.066 L -4.274 111.069 L -0.303 111.179 C 3.789 118.758 6.609 477.448 34.047 473.312">
				<animate
					 attributeType="XML" 
					attributeName="d" 
					from="M 57.175 161.934 C 81.433 124.496 101.701 119.902 109.815 162.314 C 133.148 259.603 173.668 170.211 180.052 152.215 C 213.427 106.43 231.111 334.706 278.888 197.477 C 299.342 107.542 339.714 200.881 340.469 196.007 C 374.015 286.018 385.495 168.404 404.836 149.964 C 419.038 136.423 445.412 158.961 446.974 160.288 C 443.969 159.63 462.995 173.01 466.045 177.307 C 480.678 184.643 494.334 115.566 498.358 115.233 L 502.682 109.077 L 83.937 112.066 L -4.274 111.069 L -0.303 111.179 C 14.069 115.775 32.11 166.712 57.598 163.142"
					 to="M 75.098 434.429 C 99.356 396.991 150.65 413.886 158.764 456.298 C 182.097 553.587 235.379 478.602 241.763 460.606 C 275.138 414.821 304.328 595.005 352.105 457.776 C 372.559 367.841 409.846 508.718 410.601 503.844 C 444.147 593.855 419.956 406.739 439.297 388.299 C 453.499 374.758 462.091 372.946 463.653 374.273 C 460.648 373.615 480.886 414.955 483.936 419.252 C 498.569 426.588 501.142 114.241 498.358 115.233 L 502.682 109.077 L 83.937 112.066 L -4.274 111.069 L -0.303 111.179 C 3.789 118.758 6.609 477.448 34.047 473.312"
					dur="10s"/>

			    </path>
			    <rect x="1.25" y="0.545" width="500.213" height="111.811" style="fill: rgb(135, 207, 235);" rx="2.847" ry="2.847"/>
			  </g>
			</svg>
		`;

	}
};
